<head>
<%= javascript_include_tag 'jquery.validate.js', 'data-turbolinks-track': 'reload' %>
<%= javascript_include_tag 'rule_forms.js', 'data-turbolinks-track': 'reload' %>
</head>
<!--**********************************
Content body start
***********************************-->
<div class="content-body">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12 col-sm-12">
        <div class="card">
            <div class="card-body">
              <h4 class="card-title">Edit Rule</h4>
              <%= form_with(model: @rule, local: true,id: 'rules_form',  validate:'true') do |form| %>
              <div class="form-group">
                <%= form.label :name %>
                <%= form.text_field :name, class: 'form-control', required: true %>
              </div>

              <div class="form-group">
                <%= form.label :filter_value %>
                <%= form.text_field :filter_value, class: 'form-control',pattern: "[0-9]*", required: true, oninvalid: "this.setCustomValidity('Only numbers allowed')", oninput: "setCustomValidity('')" %>
              </div>

              <div class="form-group">
                <%= form.label :entity_type%>
                <%= form.select :entity_type, ['CAMPAIGN','ADSET','AD'],{:include_blank => true},{ class: 'form-control'} %>
              </div>
              
              <div class="form-group">
                <%= form.label :evaluation_spec %>
                <%= form.select :evaluation_spec, ['SCHEDULE', 'TRIGGER'],{:include_blank => true},  {class: 'form-control'} %>
              </div>

              <div class="form-group">
                <%= form.label :attribution_window %>
                <%= form.select :attribution_window, ['ACCOUNT_DEFAULT', '7D_VIEW','28D_VIEW'],{:include_blank => true},  {class: 'form-control'} %>
              </div>

              <div class="form-group">
                <%= form.label :insight %>
                <%= form.select :insight, ['cost_per_search_fb','cost_per_add_to_cart_fb','cost_per_purchase_fb','cost_per_initiate_checkout_fb','cost_per_view_content_fb','purchess unified'],{:include_blank => true},  {class: 'form-control'} %>
              </div>
              <div class="form-group">
                <%= form.label :time_preset%>
                <%= form.select :time_preset, ['LIFETIME', 'TODAY'], {:include_blank => true}, {class: 'form-control'} %>
              </div>
              <div class="form-group">
                <%= form.label :schedule_spec %>
                <%= form.select :schedule_spec, ['DAILY','HOURLY','SEMI_HOURLY'],{:include_blank => true},  {class: 'form-control'}%>
              </div>
              <div class="form-group">
                <%= form.label :value %>
                <%= form.text_field :value, class: 'form-control',pattern: "[0-9]*", required: true, oninvalid: "this.setCustomValidity('Only numbers allowed')", oninput: "setCustomValidity('')" %>
              </div>

              <div class="form-group">
                <%= form.label :operator%>
                <%= form.select :operator,['GREATER_THAN','LESS_THAN','EQUAL'] , {:include_blank => true}, {class: 'form-control'}%>
              </div>

              <div class="form-group ">
                <%= form.label :status%>
                <%= form.select :status, ['ENABLED', 'DISABLED', 'DELETED'], {:include_blank => true}, {class: 'form-control'}%>
              </div>

              <div class="form-group ">
                <%= form.label :evaluation_type %>
                <%= form.select :evaluation_type,['NOTIFICATION','PAUSE','UNPAUSE'] ,{:include_blank => true},  {class: 'form-control'}%>
              </div>

              <div class="form-group ">
                <%= form.label :filter_field %>
                <%= form.select :filter_field,['IMPRESSIONS'] ,{:include_blank => true}, {class: 'form-control'}%>
              </div>

              <div class="form-group">
                <%= form.label :filter_operation%>
                <%= form.select :filter_operation,['GREATER_THAN','LESS_THAN','EQUAL'] , {:include_blank => true}, {class: 'form-control'}%>
              </div>
              <div class="form-group">
                <%= form.submit "Create Rule", class: 'btn mb-1 btn-flat btn-primary custom-btn text-white ' %>
              </div>
              <% end %>  
            </div>
        </div>
      </div>
    </div>
  </div>
<!-- #/ container -->
</div>
<%= link_to 'Back', rules_path %>